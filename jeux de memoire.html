<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>

  <h1 class="jeux">Jeu de memoire</h1>

  <script>
    function initgame() {
      var pas;
      for (pas = 1; pas <= 40; pas++) {
        var n1 = Math.ceil(16 * Math.random()); //math.ceil retourne le plus petit qui est supérieur ou égal au nombre donné
        var n2 = Math.ceil(16 * Math.random()); //Math.random retourne un nombre compris entre 0 et 1
        var myImg1 = document.getElementById("img" + n1);
        var myImg2 = document.getElementById("img" + n2);
        var src1 = myImg1.src;
        var src2 = myImg2.src;
        document.getElementById("img" + n1).src = src2;
        document.getElementById("img" + n2).src = src1;
      }
    }
    var img; // image qui vient subit une action clique
    var imgp; // image qui vient a déja subit une action clique
    var win = 0; //quand win=8
    var attente = 0; //indique si une image apparu ou nn
    var precedente = -1;
    var sec = 0;
    var min = 0;
    var hrs = 0;
    var ms = 0;

    function cachephotos() {
      img.style.visibility = "hidden";
      imgp.style.visibility = "hidden";
      attente = 0;
    }
    function clic(n) {
      if (attente != 1) {
        img = document.getElementById("img" + n);
        img.style.visibility = "visible";
        if (precedente < 0) {
          precedente = n;
        } else {
          imgp = document.getElementById("img" + precedente);
          if (imgp.src == img.src) {
            win = win + 1;
          } else {
            attente = 1;
            setTimeout("cachephotos();", 800); //delai avant son exécution
          }
          precedente = -1; //plus de precednce
        }
      }
    }
    function tick() {
      sec++;
      if (sec >= 60) {
        sec = 0;
        min++;
        if (min >= 60) {
          min = 0;
          hrs++;
        }
      }
    }
    function addTime() {
      if (win < 8) {
        tick();
        document.getElementById("time").innerHTML =
          (hrs > 9 ? hrs : "0" + hrs) +
          ":" +
          (min > 9 ? sec : "0" + min) +
          ":" +
          (min > 9 ? sec : "0" + sec);
        setTimeout(addTime, 10);
      }
    }
  </script>

  <body onload="initgame();addTime()">
    <div class="jeu">
      <div class="case" onclick="clic(1);">
        <img id="img1" src="assets/chat.jpg" />
      </div>
      <div class="case" onclick="clic(2);">
        <img id="img2" src="assets/chat.jpg" />
      </div>
      <div class="case" onclick="clic(3);">
        <img id="img3" src="assets/chien.jpg" />
      </div>
      <div class="case" onclick="clic(4);">
        <img id="img4" src="assets/chien.jpg" />
      </div>
      <hr />

      <div class="case" onclick="clic(5);">
        <img id="img5" src="assets/lapin.jpg" />
      </div>
      <div class="case" onclick="clic(6);">
        <img id="img6" src="assets/lapin.jpg" />
      </div>
      <div class="case" onclick="clic(7);">
        <img id="img7" src="assets/oiseau.jpg" />
      </div>
      <div class="case" onclick="clic(8);">
        <img id="img8" src="assets/oiseau.jpg" />
      </div>
      <hr />

      <div class="case" onclick="clic(9);">
        <img id="img9" src="assets/souris.jpg" />
      </div>
      <div class="case" onclick="clic(10);">
        <img id="img10" src="assets/souris.jpg" />
      </div>
      <div class="case" onclick="clic(11);">
        <img id="img11" src="assets/mouton.jpg" />
      </div>
      <div class="case" onclick="clic(12);">
        <img id="img12" src="assets/mouton.jpg" />
      </div>
      <hr />

      <div class="case" onclick="clic(13);">
        <img id="img13" src="assets/lion.jpg" />
      </div>
      <div class="case" onclick="clic(14);">
        <img id="img14" src="assets/lion.jpg" />
      </div>
      <div class="case" onclick="clic(15);">
        <img id="img15" src="assets/tigre.jpg" />
      </div>
      <div class="case" onclick="clic(16);">
        <img id="img16" src="assets/tigre.jpg" />
      </div>
      <hr />
    </div>
    <br />

    <h2 id="time">Temps écoulé :</h2>
  </body>
</html>
